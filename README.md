# mk8dx-rating-tool

https://youtu.be/zm2BzvySpUg

上の動画のようにレート戦におけるコース・種目・現在レートなどを自動解析していい感じに可視化するツールです。

## Setup

```powershell
PS> python -m venv venv
PS> .\venv\Scripts\Activate.ps1 
PS> pip install -r requirements.txt
```


## Usage

```
python .\run.py --obs_pass "GKzsYMK574JexVLr" --out_csv_path out.csv
```

OBS側に "映像キャプチャデバイス" という名前の映像キャプチャデバイスソースがあれば、その映像をリアルタイムに解析します。  
解析したレース情報は以下のようにout.csvに保存されます。

```
ts,course,race_type,place,my_rate,rates_0,rates_1,rates_2,rates_3,rates_4,rates_5,rates_6,rates_7,rates_8,rates_9,rates_10,rates_11
2023-05-04 13:10:45,N64カラカラさばく,150cc,1,36145,24703,36129,9346,15776,15604,11273,9947,19141,9639,15094,15801,11464
2023-05-04 13:14:20,ウォーターパーク,150cc,9,36125,24708,36145,9345,15762,15601,11271,9652,15823,11487,15243,11767,11297
2023-05-04 13:17:38,GBAスカイガーデン,150cc,1,36142,24703,36125,9342,15739,15616,11269,9661,15843,11500,15269,11315,11598
2023-05-04 13:21:44,DKジャングル,150cc,6,36136,0,36142,9359,15627,11277,15839,11528,15251,11338,10487,15209,18910
2023-05-04 13:25:08,ビッグブルー,150cc,2,36148,0,36136,9361,15654,11281,15855,11511,15263,11337,10471,15215,18927
2023-05-04 13:28:31,N64カラカラさばく,150cc,3,36155,24680,36148,9371,15627,11300,15842,11519,15271,11320,10464,15233,18917
```
